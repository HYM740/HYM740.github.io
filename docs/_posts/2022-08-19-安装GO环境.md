# 安装 Go 环境

> 本文使用的版本是 1.18.3

做任何事都需要一些前置条件。比如想要学计算机，首先的条件就是得有一台计算机。

想要学习 Go 语言，则必须先在计算机上安装 Go。

Go语言支持以下操作系统

- MircoSoft Windows
    - Windows 7 及后续版本
- Apple macOS
    - macOS 10.13 及后续版本
- Linux
    - 内核版本 2.6.32 及后续版本

当然如果有能力且有必要的情况下，也可以使用官方提供的源代码进行构建，从而在其他平台上使用 Go 语言。

## 什么是 Go 语言
Go（也称 Golang） 语言是 Google 开发的一款静态强类型、编译型语言。

Go 语言的语法相比 C 有些差异，整体相近。Go 语言具有自己的垃圾回收功能，相比 Java 的垃圾回收性能更好。

Go 语言使用的编译器由 Go 语言本身写成。当然早期版本依然是用 C 写的。

GO 语言支持交叉编译。

## 开始安装 Go 开发环境
从[Go语言官网](https://go.dev/)下载合适版本。

安装 Go 语言和安装其他软件的步骤大同小异。需要注意的是，安装完成之后会修改部分环境变量。

Go 语言本身也需要使用一些变量，但不是写入到系统变量/用户变量。

---

对于 Windows 系统来说，修改了以下几个变量。

用户变量 `Path` 追加 `%USERPROFILE%\go\bin`

系统变量 `Path` 追加 `<Go 安装目录>\bin`

Go 使用变量存储在 `%Appdata%\go\env` （仅在使用命令 `go env -w` 修改过之后才存在这个文件）

---

几个比较重要的变量

- `goroot` Go 的安装目录。 Go 的标准库和源代码存储在这里
- `gopath` 用户 Go 工作空间。通过 `go get` 命令下载的包会存储在这里。`go install` 命令也会将二进制文件存储到这里。

当导入包时，编译器会在以上两个变量中搜索。

### 设置代理

Go 语言的工具链中具有包管理工具，但是因为 Google 在国内是被屏蔽的站点，无法正常提供服务。因此我们需要设置代理。

goproxy.io 是一个推荐使用的代理。设置方法可以参考 [goproxy.io](https://goproxy.io)

如果不想看 goproxy.io 文档，则可以直接在命令行中输入下面这条命令来完成设置。
```
go env -w GOPROXY=https://goproxy.io,direct
```

### 验证 Go 的安装

在任意的位置，创建一个名为`first`的文件夹，然后在文件夹中创建一个后缀名为 `main.go` 的文件。

在新建的文件中输入以下内容并保存

```go
package main

import "fmt"

func main() {
    fmt.Println("Hello World!")
    fmt.Println("你好，世界！")
    fmt.Println("こんにちは、世界！")
}
```

在当前目录下启动命令行，执行命令

```
go fmt
```
当前文件夹下所有的 Go 源代码文件都会被格式化为 Go 语言官方定义的标准格式

编译成二进制文件，执行命令

```
go build
```

运行编译的二进制文件，执行命令

```
./first
```

当看到程序输出时，证明环境已经安装成功。

## 一些有用的信息

- [Go语言官网](https://go.dev/)

- [Go语言官网的中国镜像站](https://golang.google.cn/)

